@import "./progress"

.el- {
  &upload {
    width: 360px

    &__input {
      display: none
    }
    &__inner {
      display: inline-block
      position: relative

      & iframe {
        position: absolute
        z-index: -1
        top: 0
        left: 0
        opacity: 0
      }
    }
    &__files {
      margin: 0
      padding: 0
      list-style: none
      margin-bottom: 10px
    }
    &__file {
      transition: all .5s cubic-bezier(.55,0,.1,1)
      font-size: 14px
      color: $fill-lighten
      line-height: 32px
      position: relative
      box-sizing: border-box
      border-radius: 4px
      width: 100%
      position: relative

      a {
        color: $fill-lighten
        display: block
        margin-right: 40px
        overflow: hidden
        padding-left: 4px
        text-overflow: ellipsis
        transition: color .3s
        white-space: nowrap

        [class^="el-icon"] {
          color: $color-light-silver
          margin-right: 7px
          height: 100%
          line-height: inherit
        }
      }
      & .el-progress {
        position: absolute
        bottom: -3px
        width: 100%
      }
      & .el-progress__text {
        position: absolute
        right: 0
        top: -10px
        right: 0
      }
      .el-progress-bar {
        margin-right: 0
        padding-right: 0
      }
      &:hover {
        background-color: $color-extra-light-gray
      }
      &.is-finished {
        & a:hover {
          color: $link-hover-color
          cursor: pointer
        }
        &:hover {
          .el-upload__btn-delete {
            display: block
            cursor: pointer
          }
        }
      }
    }
    &__tip {
      font-size: 12px
      color: $color-base-silver
      margin-top: 7px
    }
    &__btn-delete {
      position: absolute
      right: 15px
      top: 0
      font-size: 12px
      color: $color-primary
      display: none
    }
  }
  &dragger {
    background-color: $color-dark-white
    border: 1px solid $color-extra-light-silver
    box-sizing: border-box
    width: 360px
    height: 180px
    border-radius: 4px
    text-align: center
    cursor: pointer
    position: relative
    overflow: hidden

    & .el-upload__inner {
      display: block
      height: 100%
    }
    & .el-icon-upload {
      font-size: 67px
      color: $color-light-silver
      margin: 40px 0 16px
      line-height: 50px
    }

    & + .el-upload__tip {
      text-align: center
    }
    & ~ .el-upload__files {
      margin-top: 7px
      padding-top: 5px
      border-top: 1px solid rgba($color-extra-light-silver, .2)
    }

    &__cover {
      position: absolute
      left: 0
      top: 0
      width: 100%
      height: 100%
      overflow: hidden
      z-index: 10
      cursor: default
      vertical-center()

      & img {
        display: block
        width: 100%
        height: 100%
      }

      &__progress {
        display: inline-block
        vertical-align: middle
        position: static
        width: 243px

        & + .el-upload__inner {
          opacity: 0
        }
      }

      &__content {
        position: absolute
        top: 0
        left: 0
        width: 100%
        height: 100%
      }

      &__interact {
        position: absolute
        bottom: 0
        left: 0
        width: 100%
        height: 100%
        background-color: rgba(#000, .72)
        text-align: center

        & .btn {
          display: inline-block
          color: $color-white
          font-size: 14px
          cursor: pointer
          vertical-align: middle
          transition: $md-fade-transition
          margin-top: 60px

          & i {
            margin-top: 0
          }

          & span {
            opacity: 0
            transition: opacity .15s linear
          }

          &:not(:first-child) {
            margin-left: 35px
          }

          &:hover {
            transform: translateY(-13px)

            & span {
              opacity: 1
            }
          }

          & i {
            color: $color-white
            display: block
            font-size: 24px
            line-height: inherit
            margin: 0 auto 5px
          }
        }
      }

      &__title {
        position: absolute
        bottom: 0
        left: 0
        background-color: $color-white
        height: 36px
        width: 100%
        overflow: hidden
        text-overflow: ellipsis
        white-space: nowrap
        font-weight: normal
        text-align: left
        padding: 0 10px
        margin: 0
        line-height: 36px
        font-size: 14px
        color: $fill-lighten
      }

      & + .el-upload__inner {
        opacity: 0
        position: relative
        z-index: 1
      }
    }

    &__text {
      color: $color-light-silver
      font-size: 14px
      text-align: center

      & em {
        color: $color-primary
        font-style: normal
      }
    }

    &:not(.is-showCover):hover {
      border-color: $color-primary
    }

    &.is-dragOver {
      background-color: rgba(32, 159, 255, .06)
      border: 2px dashed $color-primary
    }
  }
}
